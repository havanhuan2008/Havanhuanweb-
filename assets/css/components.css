.topbar{
  position:sticky;
  top:var(--safe-top);
  z-index:30;
  height:68px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 12px;

  background: var(--card);
  border-bottom:1px solid var(--line);
  backdrop-filter: blur(14px);
}

.brand{display:flex;align-items:center;gap:12px}
.logo{
  width:44px;height:44px;border-radius:16px;
  background: linear-gradient(135deg, rgba(37,99,235,1), rgba(22,163,74,1));
  box-shadow: 0 14px 30px rgba(37,99,235,.18);
}
.brand-title{font-weight:900; letter-spacing:.2px}
.brand-sub{font-size:12px;color:var(--muted); margin-top:2px}

.top-actions{display:flex;gap:10px;align-items:center}

.icon-btn{
  width:44px;height:44px;border-radius:16px;
  border:1px solid var(--line);
  background: var(--card2);
  cursor:pointer;
  transition: transform var(--dur) var(--ease);
}
.icon-btn:active{transform: translateY(1px)}

.tabbar{
  position:fixed;left:0;right:0;bottom:0;z-index:50;
  height: calc(74px + var(--safe-bottom));
  padding-bottom: var(--safe-bottom);
  display:flex;
  background: var(--card);
  border-top:1px solid var(--line);
  backdrop-filter: blur(14px);
}
.tab{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:6px;
  font-size:12px;
  color:var(--muted);
}
.tab.active{color:var(--text)}
.tab.active::before{
  content:"";
  position:absolute;
  width:44px;height:3px;
  border-radius:999px;
  background: linear-gradient(90deg, var(--p1), var(--p2));
  transform: translateY(-28px);
}

.card{
  border:1px solid var(--line);
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.pad{padding:14px}

.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:12px 14px;
  border-radius: 16px;
  border:1px solid var(--line);
  background: var(--card2);
  cursor:pointer;
  transition: transform var(--dur) var(--ease), filter var(--dur) var(--ease);
}
.btn:active{transform: translateY(1px)}
.btn.primary{
  background: linear-gradient(135deg, var(--p1), var(--p2));
  color:white;
  border-color: transparent;
}
.btn.danger{background: rgba(239,68,68,.12); border-color: rgba(239,68,68,.25)}

/* Nút gỗ mục nát cho "Mua ngay" */
.btn.wood{
  color: #1a0f08;
  border-color: rgba(70,40,20,.35);
  background:
    radial-gradient(14px 14px at 20% 30%, rgba(255,255,255,.22), transparent 60%),
    radial-gradient(18px 18px at 70% 40%, rgba(0,0,0,.10), transparent 62%),
    radial-gradient(12px 12px at 40% 75%, rgba(0,0,0,.12), transparent 65%),
    repeating-linear-gradient(
      90deg,
      rgba(125,70,35,.92) 0px,
      rgba(105,58,28,.92) 8px,
      rgba(145,85,44,.92) 16px
    );
  box-shadow: 0 12px 28px rgba(70,40,20,.20);
}
.btn.wood:hover{filter: brightness(1.03)}

/* Toast / Modal */
.toasts{position:fixed;left:12px;right:12px;bottom:90px;z-index:90;display:grid;gap:10px}
.toast{background:var(--card); border:1px solid var(--line); border-radius:16px; padding:12px; box-shadow:var(--shadow)}

.modal{position:fixed;inset:0;z-index:80;display:none}
.modal.open{display:block}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.5)}
.modal-card{
  position:absolute; left:50%; top:50%;
  transform:translate(-50%,-50%);
  width:min(560px, 92vw);
  max-height:80vh;
  background: var(--card);
  border:1px solid var(--line);
  border-radius:18px;
  box-shadow: var(--shadow);
  display:flex; flex-direction:column;
}
.modal-head,.modal-foot{padding:12px;border-bottom:1px solid var(--line);display:flex;align-items:center;justify-content:space-between}
.modal-foot{border-top:1px solid var(--line);border-bottom:none}
.modal-body{padding:12px; overflow:auto}
