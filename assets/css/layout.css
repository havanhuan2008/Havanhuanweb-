.app{
  min-height:100%;
  display:flex;
  flex-direction:column;
}

.topbar{
  position:sticky;
  top: var(--safe-top);
  z-index:30;
  height: var(--topbar-h);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 12px;
}

.brand{ display:flex; align-items:center; gap:12px; }
.logo{
  width:42px; height:42px; border-radius:14px;
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), transparent 35%),
    linear-gradient(135deg, rgba(59,130,246,1), rgba(34,197,94,1));
  box-shadow: 0 10px 30px rgba(59,130,246,.22);
}
.brand-title{ font-weight:800; letter-spacing:.4px; }
.brand-sub{ font-size:12px; color:var(--muted); margin-top:1px; }

.top-actions{ display:flex; align-items:center; gap:10px; }

.main{
  flex:1;
  padding-bottom: calc(var(--tabbar-h) + var(--safe-bottom));
  padding-top: 8px;
}

.tabbar{
  position:fixed;
  left:0; right:0;
  bottom:0;
  z-index:50;
  height: calc(var(--tabbar-h) + var(--safe-bottom));
  padding-bottom: var(--safe-bottom);
  display:flex;
  align-items:stretch;
  justify-content:space-around;
}

.tab{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:6px;
  font-size:12px;
  color: rgba(233,240,255,.82);
  position:relative;
  transition: transform var(--dur) var(--ease);
}
.tab span:last-child{ opacity:.9; }
.tab.active{
  color: var(--text);
}
.tab.active::before{
  content:"";
  position:absolute;
  top:6px;
  width:44px;
  height:3px;
  border-radius:999px;
  background: linear-gradient(90deg, rgba(59,130,246,1), rgba(34,197,94,1));
  box-shadow: 0 10px 20px rgba(59,130,246,.25);
}
.tab:active{ transform: translateY(1px); }

.drawer{
  position:fixed;
  inset:0;
  z-index:70;
  display:none;
}
.drawer.open{ display:block; }
.drawer-backdrop{
  position:absolute; inset:0;
  background: rgba(0,0,0,.55);
  animation: fadeIn 180ms var(--ease);
}
.drawer-panel{
  position:absolute;
  top:0; bottom:0; right:0;
  width:min(420px, 88vw);
  background: rgba(10,18,34,.92);
  border-left:1px solid var(--line);
  backdrop-filter: blur(12px);
  box-shadow: var(--shadow);
  display:flex;
  flex-direction:column;
  animation: slideIn 220ms var(--ease);
}
.drawer-head{
  display:flex; align-items:flex-start; justify-content:space-between;
  padding:14px;
  border-bottom:1px solid var(--line);
}
.drawer-nav{ padding:10px 14px; display:grid; gap:10px; }
.drawer-link{
  display:flex; align-items:center; gap:10px;
  padding:12px 12px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.04);
  border-radius: 14px;
  transition: transform var(--dur) var(--ease), background var(--dur) var(--ease);
}
.drawer-link:hover{ background: rgba(255,255,255,.06); }
.drawer-link:active{ transform: translateY(1px); }
.drawer-foot{ margin-top:auto; padding:12px 14px; border-top:1px solid var(--line); }